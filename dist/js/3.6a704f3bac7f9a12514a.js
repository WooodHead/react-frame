webpackJsonp([3],{1e3:function(e,t){e.exports={container:"container-BkX2O",btn:"btn-1OhT2",movement:"movement-czR9y",move:"move-1DNQx"}},842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(134),i=a.n(n),s=a(42),r=a.n(s),o=a(43),c=a.n(o),l=a(45),u=a.n(l),p=a(44),m=a.n(p),h=a(3),d=a.n(h),g=a(135),f=a(212),v=a(852),b=a(984),y=a(982),E=a(983),k=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||i()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.loginState;return d.a.createElement("div",{className:"layout"},d.a.createElement(v.a,{titleContent:"我的"}),d.a.createElement("div",{className:"scroll-wrap bg-white"},"logined"===e&&d.a.createElement(y.a,null),"nologin"===e&&d.a.createElement(b.a,null),d.a.createElement(E.a,null)))}}]),t}(h.Component);t.default=a.i(g.e)(a.i(f.b)(function(e){return e.user})(k))},852:function(e,t,a){"use strict";var n=a(134),i=a.n(n),s=a(42),r=a.n(s),o=a(43),c=a.n(o),l=a(45),u=a.n(l),p=a(44),m=a.n(p),h=a(3),d=a.n(h),g=a(135),f=a(853),v=a.n(f),b=function(e){function t(){r()(this,t);var e=u()(this,(t.__proto__||i()(t)).call(this));return e.goBack=e.goBack.bind(e),e}return m()(t,e),c()(t,[{key:"goBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this.props,t=e.titleContent,a=e.rightContent,n=e.titleClass,i=e.leftClick;return d.a.createElement("div",{className:v.a.navbar},d.a.createElement("div",{className:v.a["navbar-left"]},d.a.createElement("div",{onClick:i||this.goBack,className:v.a["icon-go-back"]})),d.a.createElement("span",{className:v.a["navbar-title"]+" "+n},t),d.a.createElement("div",{className:v.a["navbar-right"]},a))}}]),t}(h.Component);t.a=a.i(g.e)(b)},853:function(e,t){e.exports={navbar:"navbar-2lIqS","navbar-left":"navbar-left-GfsH5","icon-go-back":"icon-go-back-1GjUQ","navbar-right":"navbar-right-2tOJ_","navbar-title":"navbar-title-2-lZC"}},956:function(e,t){e.exports={isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},966:function(e,t,a){"use strict";var n,i,s=a(136),r=a.n(s),o=a(134),c=a.n(o),l=a(42),u=a.n(l),p=a(43),m=a.n(p),h=a(45),d=a.n(h),g=a(44),f=a.n(g),v=a(3),b=a.n(v),y=a(94),E=(a.n(y),a(985)),k=function(e){function t(e){u()(this,t);var a=d()(this,(t.__proto__||c()(t)).call(this,e));return a.props.class.push("g-core-image-upload-btn"),a.state={formID:"g-core-upload-input-"+Math.floor(1e4*Math.random()),uploading:!1,hasImage:!1,class:a.props.class.join(" "),image:{src:"http://img1.vued.vanthink.cn/vuedcb0efb21e5f2ca013ca1480198bbf4b3.png",width:0,height:0}},a}return f()(t,e),m()(t,[{key:"render",value:function(){return b.a.createElement("div",{className:this.state.class,id:this.state.formID},this.props.text,b.a.createElement("form",{className:"g-core-image-upload-form",method:"post",encType:"multipart/form-data",action:"",style:{display:"block",cursor:"pointer",position:"absolute",left:0,top:0,width:1242,height:61,opacity:0,margin:0,padding:0,overflow:"hidden"}},b.a.createElement("input",{disabled:this.state.uploading,onChange:this.change.bind(this),name:this.props.inputOfFile,type:"file",accept:this.props.inputAccept,style:{width:"100%",height:"100%"}})),b.a.createElement("div",{className:"g-core-image-corp-container",style:{display:this.state.hasImage?"block":"none"}},b.a.createElement("div",{className:"image-aside"},b.a.createElement("div",{className:"g-crop-image-box"},b.a.createElement("div",{className:"g-crop-image-principal"},b.a.createElement("img",{src:this.state.image.src,style:{width:this.state.image.width,height:this.state.image.height}}),b.a.createElement("div",{className:"select-recorte",onMouseDown:this.drag.bind(this),onTouchStart:this.drag.bind(this),style:{width:100,height:100}},b.a.createElement("div",{className:"g-s-resize"}),b.a.createElement("div",{className:"g-e-resize"}),b.a.createElement("div",{className:"g-resize",onTouchStart:this.resize.bind(this),onMouseDown:this.resize.bind(this)}))))),b.a.createElement("div",{className:"info-aside"},b.a.createElement("div",{className:"btn-groups"},b.a.createElement("div",{type:"button",onClick:this.cancel.bind(this),className:"btn btn-cancel"},this.props.cropBtn.cancel),b.a.createElement("div",{onClick:this.doCrop.bind(this),className:"btn btn-upload"},this.props.cropBtn.ok)))))}},{key:"__find",value:function(e){return document.getElementById(this.state.formID).querySelector(e)}},{key:"change",value:function(e){var t=this.__find("input").value.replace(/C:\\fakepath\\/i,""),a=t.substring(t.lastIndexOf(".")+1),n=this.props.extensions;if(n.length>1){if(!new RegExp("^["+n.join("|")+"]+$","i").test(a))return this.props.errorHandle("TYPE ERROR")}if(e.target.files[0].size>this.props.maxFileSize){var i;return parseInt(this.maxFileSize/1024/1024)>0?i=(this.maxFileSize/1024/1024).toFixed(2)+"MB":parseInt(this.maxFileSize/1024)>0&&(i=(this.maxFileSize/1024).toFixed(2)+"kB"),void this.props.errorHandle("FILE IS TOO LARGER THAN THE MAX VALUE "+i)}if(this.files=e.target.files,this.props.crop)return void this.__showImage();this.props.imageChanged(this.files[0]),this.tryAjaxUpload()}},{key:"__showImage",value:function(){document.body.style.overflow="hidden",this.setState({hasImage:!0}),this.__readFiles()}},{key:"__readFiles",value:function(){var e=new FileReader,t=this;e.onload=function(e){var a=e.target.result;t.__initImage(a)},e.readAsDataURL(this.files[0])}},{key:"__initImage",value:function(e){var t=new Image,a=this;t.src=e,t.onload=function(){a.setState({image:{src:e,width:t.naturalWidth,height:t.naturalHeight}}),a.__reseyLayout(),a.__initCropBox()}}},{key:"__initCropBox",value:function(){var e=this.__find(".select-recorte"),t=this.__find(".g-crop-image-principal"),a=parseInt(t.style.width),n=parseInt(t.style.height),i=this.props.cropRatio.split(":")[0],s=this.props.cropRatio.split(":")[1],r=a/100*80,o=r/i*s;e.style.cssText="width:"+r+"px;height: "+o+"px;left:"+(a-r)/2+"px;top:"+(n-o)/2+"px;",o>n&&(o=n/100*80,r=o*i/s,e.style.cssText="width:"+r+"px;height:"+o+"px;left:"+(a-r)/2+"px;top:"+(n-o)/2+"px")}},{key:"__reseyLayout",value:function(){var e=window.innerHeight-80,t=window.innerWidth-60,a=this.state.image.width,n=this.state.image.height,i=a/n,s=t/e,r=this.__find(".g-crop-image-principal");i>s?(this.setState({image:{src:this.state.image.src,width:t,height:t/i}}),r.style.cssText="width:"+t+"px;height:"+t/i+"px;margin-top:"+(e-t/i)/2+"px"):(this.setState({image:{src:this.state.image.src,width:e*i,height:e}}),r.style.cssText="width:"+e*i+"px;height:"+e+"px;margin-left:"+(t-e*i)/2+"px;"),this.imgChangeRatio=a/this.state.image.width}},{key:"doCrop",value:function(e){var t=e.target;t.value=t.value+"...",t.disabled=!0,"object"!==r()(this.data)&&(this.data={});var a=this.__find(".select-recorte");this.data.request="crop",this.data.toCropImgX=parseInt(window.getComputedStyle(a).left)*this.imgChangeRatio,this.data.toCropImgY=parseInt(window.getComputedStyle(a).top)*this.imgChangeRatio,this.data.toCropImgW=parseInt(window.getComputedStyle(a).width)*this.imgChangeRatio,this.data.toCropImgH=parseInt(window.getComputedStyle(a).height)*this.imgChangeRatio,this.tryAjaxUpload(function(){t.value=t.value.replace("...",""),t.disabled=!1})}},{key:"cancel",value:function(){this.files="",this.setState({hasImage:!1}),this.__find("input").value="",document.body.removeAttribute("style")}},{key:"tryAjaxUpload",value:function(e){for(var t=this,a=new FormData,i=0;i<this.files.length;i++)a.append(t.props.inputOfFile,this.files[i]);if("object"===r()(this.data))for(var s in this.data)void 0!==this.data[s]&&a.append(s,this.data[s]);if(this.props.imageUploading(this.files),!this.props.isXhr)return this.props.crop&&this.setState({hasImage:!1}),"function"==typeof e&&e();n("POST",this.props.url,this.props.header,a,function(a){"function"==typeof e&&e(),t.uploading=!1,t.props.crop&&t.cancel(),t.props.imageUploaded(a)})}},{key:"resize",value:function(e){var t=e.target.parentElement,a=this.__find(".g-crop-image-principal");new i(t,a,this.props.cropRatio,e)}},{key:"drag",value:function(e){var t=e.target,a=this.__find(".g-crop-image-principal");new E.a(t,a,e)}}]),t}(v.Component);k.propTypes={url:b.a.PropTypes.string,text:b.a.PropTypes.string,inputAccept:b.a.PropTypes.string,inputOfFile:b.a.PropTypes.string,class:b.a.PropTypes.array},k.defaultProps={url:"",text:"upload",inputAccept:"image/jpg,image/jpeg,image/png,image/gif",inputOfFile:"file",crop:!1,cropBtn:{ok:"Save",cancel:"Cancel"},class:[],extensions:[],cropRatio:"1:1",maxFileSize:10485760,isXhr:!0,header:null,imageUploaded:function(e){},imageUploading:function(e){},imageChanged:function(){},errorHandle:function(e){}},t.a=k},982:function(e,t,a){"use strict";var n=a(134),i=a.n(n),s=a(42),r=a.n(s),o=a(43),c=a.n(o),l=a(45),u=a.n(l),p=a(44),m=a.n(p),h=a(3),d=a.n(h),g=a(212),f=a(998),v=a.n(f),b=a(966),y=a(210),E=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||i()(t)).call(this,e));return a.state={src:"http://img1.vued.vanthink.cn/vued0a233185b6027244f9d43e653227439a.png"},a.handleRes=a.handleRes.bind(a),a.imageChanged=a.imageChanged.bind(a),a.imageUploading=a.imageUploading.bind(a),a}return m()(t,e),c()(t,[{key:"handleRes",value:function(e){this.props.dispatch({type:"loading hidden"})}},{key:"imageChanged",value:function(){}},{key:"imageUploading",value:function(){this.props.dispatch({type:"loading show"})}},{key:"render",value:function(){return d.a.createElement("div",{className:v.a.container},d.a.createElement("div",{className:v.a.user},d.a.createElement("div",{className:v.a.avatar},d.a.createElement(b.a,{text:"",className:"pure-button",crop:"server",inputOfFile:"img",cropBtn:{ok:"选取",cancel:"取消"},url:y.imgUpload,imageChanged:this.imageChanged,imageUploading:this.imageUploading,imageUploaded:this.handleRes}),d.a.createElement("img",{src:"https://php1.wanglibao.com/images/bbs/avatar1.png"})),d.a.createElement("div",{className:v.a["user-right"]},d.a.createElement("h1",{className:v.a.nickname},"网利宝"),d.a.createElement("div",{className:v.a["edit-info"]},d.a.createElement("span",null,"编辑资料")))),d.a.createElement("div",{className:v.a.info},d.a.createElement("div",{className:v.a.item},d.a.createElement("div",{className:v.a.num},"76"),d.a.createElement("div",{className:v.a.title},d.a.createElement("span",null,"收到的赞"))),d.a.createElement("div",{className:v.a.item},d.a.createElement("div",{className:v.a.num},"0"),d.a.createElement("div",{className:v.a.title},d.a.createElement("span",null,"收到的评论"))),d.a.createElement("div",{className:v.a.item},d.a.createElement("div",{className:v.a.num},"76"),d.a.createElement("div",{className:v.a.title},d.a.createElement("span",null,"被收藏")))))}}]),t}(h.Component);t.a=a.i(g.b)(function(e){return e})(E)},983:function(e,t,a){"use strict";var n=a(134),i=a.n(n),s=a(42),r=a.n(s),o=a(43),c=a.n(o),l=a(45),u=a.n(l),p=a(44),m=a.n(p),h=a(3),d=a.n(h),g=a(93),f=a.n(g),v=a(999),b=a.n(v),y=function(e){function t(){r()(this,t);var e=u()(this,(t.__proto__||i()(t)).call(this));return e.state={menu:[{name:"消息提醒",icon:"message",mark:!0},{name:"我的收藏",icon:"collect"},{name:"我的帖子",icon:"topic"},{name:"我的评论",icon:"comment"},{name:"我的任务",icon:"task",mark:!0}]},e}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.state.menu;return d.a.createElement("div",{className:f()(b.a.menu)},e.map(function(e,t){return d.a.createElement("div",{key:t,className:b.a.item},d.a.createElement("span",{className:f()(b.a.icon,b.a[e.icon])}),d.a.createElement("span",{className:b.a["menu-name"]},e.name),e.mark&&d.a.createElement("span",{className:b.a.mark}),d.a.createElement("span",{className:b.a.arrows}))}))}}]),t}(h.Component);t.a=y},984:function(e,t,a){"use strict";var n=a(134),i=a.n(n),s=a(42),r=a.n(s),o=a(43),c=a.n(o),l=a(45),u=a.n(l),p=a(44),m=a.n(p),h=a(3),d=a.n(h),g=a(1e3),f=a.n(g),v=a(210),b=a(986),y=function(e){function t(){r()(this,t);var e=u()(this,(t.__proto__||i()(t)).call(this));return e.toLogin=e.toLogin.bind(e),e.toRegister=e.toRegister.bind(e),e}return m()(t,e),c()(t,[{key:"toLogin",value:function(){b.a.ready({app:function(e){e.loginApp({refresh:1,url:""})},other:function(){window.location.href=v.currentHost+"/wechat/verify?next=/bbs/mine?source=app"}})}},{key:"toRegister",value:function(){b.a.ready({app:function(e){e.registerApp({refresh:1,url:""})},other:function(){window.location.href=v.currentHost+"/wechat/verify?next=/bbs/mine?source=app"}})}},{key:"render",value:function(){return d.a.createElement("div",{className:f.a.container},d.a.createElement("div",{className:f.a.btn},d.a.createElement("span",{onClick:this.toLogin},"登录"),d.a.createElement("span",null,"/"),d.a.createElement("span",{onClick:this.toRegister},"注册")),d.a.createElement("div",{className:f.a.movement},d.a.createElement("div",null),d.a.createElement("div",null),d.a.createElement("div",null),d.a.createElement("div",null)))}}]),t}(h.Component);t.a=y},985:function(e,t,a){"use strict";var n=a(42),i=a.n(n),s=a(43),r=a.n(s),o=a(956),c=a.n(o),l=c.a.isMobile,u=void 0,p=void 0,m=function(){function e(t,a,n){i()(this,e);var s=this;if(this.el=t,this.container=a,this.coor={x:(l?n.touches[0].clientX:n.clientX)-t.offsetLeft-t.parentElement.offsetLeft-document.getElementsByClassName("image-aside")[0].offsetLeft,y:(l?n.touches[0].clientY:n.clientY)-t.offsetTop-t.parentElement.offsetTop-document.getElementsByClassName("image-aside")[0].offsetTop,posX:l?n.touches[0].clientX:n.clientX,posy:l?n.touches[0].clientY:n.clientY,maxLeft:parseInt(this.container.style.width)-parseInt(this.el.style.width),maxTop:parseInt(this.container.style.height)-parseInt(this.el.style.height)},u=function(e){s.move(e)},p=function(e){s.stopMove(e)},l)return document.addEventListener("touchmove",u,!1),void document.addEventListener("touchend",p,!1);document.addEventListener("mousemove",u,!1),document.addEventListener("mouseup",p,!1)}return r()(e,[{key:"move",value:function(e){if(this.el){var t=l?e.changedTouches[0].clientX:e.clientX,a=l?e.changedTouches[0].clientY:e.clientY,n=t-this.el.parentElement.offsetLeft-document.getElementsByClassName("image-aside")[0].offsetLeft-this.coor.x,i=a-this.el.parentElement.offsetTop-document.getElementsByClassName("image-aside")[0].offsetTop-this.coor.y;n<=0&&(n=0),n>=this.coor.maxLeft&&(n=this.coor.maxLeft),i<=0&&(i=0),i>=this.coor.maxTop&&(i=this.coor.maxTop),this.el.style.left=n+"px",this.el.style.top=i+"px"}}},{key:"stopMove",value:function(){if(this.el=null,l)return document.removeEventListener("touchmove",u,!1),void document.removeEventListener("touchend",p,!1);document.removeEventListener("mousemove",u,!1),document.removeEventListener("mouseup",p,!1)}}]),e}();t.a=m},986:function(e,t,a){"use strict";var n=function(){function e(e){this.bridge=e}function t(t){return void 0===n&&(n=new e(t)),n}function a(a){function n(e){e.callback&&"app"===e.callback&&void 0===i&&(i=t(e.data),i._init());try{a[e.callback](i)}catch(e){}}e.isAPP()?window.WebViewJavascriptBridge?n({callback:"app",data:window.WebViewJavascriptBridge}):document.addEventListener("WebViewJavascriptBridgeReady",function(){n({callback:"app",data:window.WebViewJavascriptBridge})},!1):n({callback:"other",data:null})}var n;e.isAPP=function(){return navigator.userAgent.indexOf("wlbAPP")>-1},e.filterJSON=function(e){var t=navigator.userAgent,a=Object.prototype.toString,n=e;if(t.indexOf("Android")>-1&&"[object String]"===a.call(n))try{n=JSON.parse(e)}catch(e){return n}return n},e.prototype={_init:function(){this.bridge.init(function(e,t){t({init:"true"})})},_setData:function(e,t){var a={post:{},callback:null},n=Object.prototype.toString;if("[object Object]"===n.call(e))for(var i in e)a.post[i]=e[i];return"[object Function]"===n.call(e)?(a.callback=e,a):(a.callback="[object Function]"===n.call(t)?t:null,a)},loginApp:function(e,t){var a=this._setData(e,t);this.bridge.callHandler("loginApp",a.post,function(e){a.callback&&a.callback(e)})},reloadPage:function(e,t){var a=this._setData(e,t);this.bridge.callHandler("reloadPage",a.post,function(e){a.callback&&a.callback(e)})},registerApp:function(e,t){var a=this._setData(e,t);this.bridge.callHandler("registerApp",a.post,function(e){a.callback&&a.callback(e)})},firstLoadWebView:function(e,t){var a=this._setData(e,t);this.bridge.callHandler("firstLoadWebView",a.post,function(e){a.callback&&a.callback(e)})},jumpToManageMoney:function(e){this.bridge.callHandler("jumpToManageMoney",function(t){e&&e(t)})},jumpToDiscoverView:function(e){this.bridge.callHandler("jumpToDiscoverView",function(t){e&&e(t)})},jumpToAutoInvest:function(e){this.bridge.callHandler("jumpToAutoInvest",function(t){e&&e(t)})},authenticated:function(t,a){var n=this._setData(t,a);this.bridge.callHandler("authenticated",n.post,function(t){var a=e.filterJSON(t);n.callback&&n.callback(a)})},shareData:function(e){this.bridge.registerHandler("shareData",function(t,a){a(e)})},touchShare:function(t,a){var n=this._setData(t,a);this.bridge.callHandler("touchShare",n.post,function(t){var a=e.filterJSON(t);n.callback&&n.callback(a)})},shareStatus:function(t){this.bridge.registerHandler("shareStatus",function(a,n){var i=e.filterJSON(a);t&&t(i)})},sendUserInfo:function(t,a){var n=this._setData(t,a);this.bridge.callHandler("sendUserInfo",{},function(t){var a=e.filterJSON(t);n.callback&&n.callback(a)})},rechargeApp:function(e,t){var a=this._setData(e,t);this.bridge.callHandler("rechargeApp",a.post,function(e){a.callback&&a.callback(e)})},jumpToAccount:function(e){this.bridge.callHandler("jumpToAccount",function(t){e&&e(t)})},touchClose:function(e){this.bridge.callHandler("touchClose",function(t){e&&e(t)})},jumpToOnLineAirlines:function(e){this.bridge.callHandler("jumpToOnLineAirlines",function(t){e&&e(t)})}};var i=void 0;return{ready:a}}();t.a=n},998:function(e,t){e.exports={container:"container-1EXYp",info:"info-3NKQ8",user:"user-tpml2",avatar:"avatar-3efxn","user-right":"user-right-1WiZA",nickname:"nickname-3-nO6","edit-info":"edit-info-3hpBl",item:"item-2SHea",num:"num-ydCFA",title:"title-2QYi1"}},999:function(e,t){e.exports={menu:"menu-2whiX",item:"item-byvWA","menu-name":"menu-name-nT62N",icon:"icon-kb834",message:"message-3OblS",collect:"collect-3MesY",topic:"topic-3vQLf",comment:"comment-zwbBG",task:"task-3nUqr",mark:"mark-1aavu",arrows:"arrows-12VMS"}}});