/*! This file is created by fangbao */
webpackJsonp([9],{250:function(t,e,n){n(272);var o=n(0)(n(261),n(283),"data-v-104766b0",null);o.options.__file="E:\\项目\\wanglibao\\BBS\\src\\views\\TopicAdd.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),o.options.functional,t.exports=o.exports},261:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(49);e.default={components:{WlbHeader:o.WlbHeader},data:function(){return{active:!0,title:"",content:"",num:500,publicEnd:!0,open:!1}},computed:{boardName:function(){return this.$route.params.name}},created:function(){this.$route.params.id||this.$router.replace({name:"index"})},mounted:function(){},methods:{checkType:function(t){this.active=t},toPublic:function(){var t=this;this.content=this.content.toString(),!1!==this.publicEnd&&""!==this.content&&(this.publicEnd=!1,this.$http({url:this.$api.api_list,method:"BbsPublishThread",params:[{type_id:this.$route.params.id,title:"网利社区",content:this.content}]}).then(function(e){t.publicEnd=!0,t.content="",e.data.result&&0===e.data.result.code?t.$rulemodal.show({title:"系统提示",content:"帖子发布成功，已提交后台审核",style:"text-align: center"}):e.data.error&&4004===e.data.error.code?t.$rulemodal.show({content:"用户未登录，请登陆后进行评论",style:"text-align: center"}):t.$rulemodal.show({content:"发布帖子失败",style:"text-align: center"}),setTimeout(function(){t.$rulemodal.show(!1),t.$router.push({name:"index"})},1e3)}))}},watch:{content:function(){var t=this.content.length;this.num=500-t>0?500-t:0,this.content=this.content.substring(0,500)}}}},272:function(t,e){},283:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view"},[n("wlb-header",{attrs:{options:{title:t.boardName}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"textarea",staticClass:"topic-text-content",attrs:{placeholder:"请输入发帖内容"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),t._v(" "),n("div",{staticClass:"topic-footer"},[n("span",{staticClass:"residue"},[t._v("你还可以输入"+t._s(t.num)+"字")]),t._v(" "),n("div",{class:["btn",{disable:!t.publicEnd||!t.content}],on:{click:t.toPublic}},[n("span",[t._v(t._s(t.publicEnd?"发表":"发表中..."))])])])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});