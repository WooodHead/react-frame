/*! This file is created by fangbao */
webpackJsonp([6],{581:function(e,a,t){t(602);var n=t(5)(t(592),t(614),"data-v-43eb85e3",null);n.options.__file="/Users/gaoyanru/Documents/wanglibao/BBS/src/views/personInfoEdit.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e}),n.options.functional,e.exports=n.exports},592:function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0});var n=t(134),s=t(63),i=t(62),o=function(e){return e&&e.__esModule?e:{default:e}}(i);a.default={components:{WlbHeader:n.WlbHeader,SelectAvatar:n.SelectAvatar,ScrollWrapper:n.ScrollWrapper},data:function(){return{userInfo:{},allHeadImgs:{},nickname:"",changed:!1,index:1}},computed:{},created:function(){var e=this;s.loading.show(!0,"full"),this.$http([{url:this.$api.api_list,method:"getBbsUserInfo",params:[{}]},{url:this.$api.api_list,method:"getBbsUserAllHeadImg",params:[{}]}]).then(function(a){e.userInfo=a[0].data.result.data,e.allHeadImgs=a[1].data.result.data,setTimeout(function(){e.changed=!1},0),s.loading.show(!1)})},mounted:function(){var e=this;o.default.$on("select-avatar",function(a){e.userInfo.head_img=e.allHeadImgs[a],e.index=a})},watch:{userInfo:{deep:!0,handler:function(e){this.changed=!0}}},methods:{editAvatar:function(){e("input").blur(),o.default.$emit("show-select-avatar-page")},save:function(){this.changed&&(this.changed=!1,s.loading.show(!0),this.$http([{url:this.$api.api_list,method:"updateBbsUserHeadimg",params:[{head_img:this.index}]},{url:this.$api.api_list,method:"updateBbsUserNickname",params:[{nickname:this.userInfo.nickname}]}]).then(function(e){s.loading.show(!1);var a;if(e[1].data.result){var t=e[1].data.result.code;a=e[1].data.result.data,0===t?s.ruleModal.show({content:"信息修改成功",style:"text-align: center"}):s.ruleModal.show({content:a,style:"text-align: center"})}e[1].data.error&&(a=e[1].data.error.message,s.ruleModal.show({content:a,style:"text-align: center"}))}))}},destroyed:function(){o.default.$off("show-select-avatar-page")}}}).call(a,t(35))},602:function(e,a){},614:function(e,a,t){e.exports={render:function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"view"},[n("wlb-header",[n("span",{slot:"title"},[e._v("个人中心")])]),e._v(" "),n("scroll-wrapper",[n("div",{staticClass:"scroll"},[n("div",{staticClass:"edit-section"},[n("div",{staticClass:"item",on:{click:function(a){e.editAvatar()}}},[n("span",{staticClass:"photo-title"},[e._v("头像")]),e._v(" "),n("div",{staticClass:"photo-right fr"},[n("span",{staticClass:"right fr"}),e._v(" "),n("img",{directives:[{name:"lazyload",rawName:"v-lazyload",value:{placeholder:t(70)},expression:"{ placeholder: require('../imgs/avatar_defult_big.png') }"}],staticClass:"photo fr",attrs:{src:e.userInfo.head_img}})])]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})]),e._v(" "),n("div",{staticClass:"item"},[n("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(a){a.target.composing||(e.userInfo.nickname=a.target.value)}}})])]),e._v(" "),n("div",{staticClass:"edit-btn"},[n("button",{class:["btn",{changed:e.changed}],on:{click:e.save}},[e._v("保存")])])])]),e._v(" "),n("select-avatar",{attrs:{data:e.allHeadImgs}})],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});