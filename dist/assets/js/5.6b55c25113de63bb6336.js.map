{"version":3,"sources":["webpack:///./src/views/activityList.vue","webpack:///activityList.vue","webpack:///./src/views/activityList.vue?4560","webpack:///./src/views/activityList.vue?d4cd"],"names":[],"mappings":";;;;;;;AACA;AACA,uBAAgS;;AAEhS;AACA;AACA;AACA;AACA,yBAAmG;AACnG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;ACVA;AACA;SAEA;;YAEA;YACA;cAEA;AAJA;AAKA;;gBAEA;kBACA;AAEA;AAJA;YAKA;8BACA;wBACA;gCACA;AACA;AACA;;AAEA;AACA;AAEA;AAJA;;iBAMA;;uBAEA;gBACA;;iCAEA;+BACA;qBACA;oBAEA;AALA;AAHA,qBASA;6BACA;uBACA;+CACA;kEACA;iCACA;+CACA;mBACA;gEACA;AACA;AACA;6DACA;0BACA;iBACA;0BACA;AACA;gBACA;AACA;AACA;AACA;cACA;kBACA;gCACA;0BACA;kCACA;yCACA;AACA;AACA;iBACA;qCACA;eACA;AACA;gCACA;0BACA;kCACA;yCACA;AACA;AAEA;AAjDA;AAxBA,G;;;;;;;ACvBA,yC;;;;;;;ACAA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,sBAAsB,wDAAwD;AAC9E,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,sBAAsB,wDAAwD;AAC9E,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"js/5.6b55c25113de63bb6336.js","sourcesContent":["\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0980a2fd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./activityList.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./activityList.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0980a2fd\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./activityList.vue\"),\n  /* scopeId */\n  \"data-v-0980a2fd\",\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"D:\\\\vueItem\\\\src\\\\views\\\\activityList.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] activityList.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-0980a2fd\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-0980a2fd\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/activityList.vue\n// module id = 251\n// module chunks = 5","<template>\n\t<div class=\"view\">\n\t\t<wlb-header :options=\"{title:'网利活动',rightConfigs:[{type:'share'}]}\"></wlb-header>\n\t\t<div class=\"activities\" v-if=\"data && data.length\" >\n\t\t\t<loadmore :cb-load-top=\"loadTop\" :cb-load-bottom=\"loadBottom\" :all-loaded=\"allLoaded\" ref=\"loadmore\">\n\n\t\t\t\t<div :key=\"index\" class=\"activity-item\" v-for=\"(item, index) in data\" tag=\"div\">\n\t\t\t\t\t<a v-if=\"item.url\" :href=\"item.url\" >\n\t\t\t\t\t\t<img :src=\"item.cover\" v-lazyload=\"{ placeholder: require('../imgs/banner_defult_sml.png') }\">\n\t\t\t\t\t</a>\n\t\t\t\t\t<router-link v-else :to=\"{ name: 'activityDetail', params: { id: item.id } }\" >\n\t\t\t\t\t\t<img :src=\"item.cover\" v-lazyload=\"{ placeholder: require('../imgs/banner_defult_sml.png') }\">\n\t\t\t\t\t</router-link>\n\t\t\t\t</div>\n\n\t\t\t\t<no-more :visible=\"nomore\"></no-more>\n    \t</loadmore>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport { WlbHeader, Loadmore, NoMore } from '../components'\nexport default {\n  data () {\n    return {\n      data: [],\n      page: 1,\n      nomore: false\n    }\n  },\n  computed: {\n    allLoaded () {\n      return this.nomore\n    }\n  },\n  created () {\n    this.$plugin.loading.show(true)\n    this.loadData(() => {\n      this.$plugin.loading.show(false)\n    })\n  },\n  components: {\n    WlbHeader,\n    Loadmore,\n    NoMore\n  },\n  methods: {\n    loadData (cb) {\n      this.$http({\n        url: this.$api.api_list,\n        method: 'getBbsThreadTopList',\n        params: [{\n          id: this.$route.params.id,\n          pageNum: this.$const.BBS_ACTIVITY_LIST_PAGE_NUM,\n          page: this.page,\n          lastPage: 1\n        }]\n      }).then((res) => {\n        if (res.data.result) {\n          this.page += 1\n          this.lastPage = res.data.result.data['last_page']\n          if (res.data.result.data['last_page'] + 1 >= this.page) {\n            if (this.page === 2) {\n              this.data = res.data.result.data.data\n            } else {\n              this.data = this.data.concat(res.data.result.data.data)\n            }\n          }\n          if (res.data.result.data['last_page'] < this.page) {\n            this.nomore = true\n          } else {\n            this.nomore = false\n          }\n          cb && cb()\n        }\n      })\n    },\n    loadTop () {\n      this.page = 1\n      this.$plugin.loading.show(true)\n      this.loadData(() => {\n        this.$plugin.loading.show(false)\n        this.$refs.loadmore.$children[0].onTopLoaded()\n      })\n    },\n    loadBottom () {\n      if (this.page > this.lastPage) {\n        return ''\n      }\n      this.$plugin.loading.show(true)\n      this.loadData(() => {\n        this.$plugin.loading.show(false)\n        this.$refs.loadmore.$children[0].onBottomLoaded()\n      })\n    }\n  }\n}\n</script>\n<style lang=\"sass\" scoped>\n\t.activities\n\t\t.activity-item\n\t\t\tmargin-bottom: .03rem\n\t\t\ta\n\t\t\t\tdisplay: block\n\t\t\t\theight: 3rem\n\t\t\timg\n\t\t\t\twidth: 100%\n\t\t\t\theight: 3rem\n</style>\n\n\n\n// WEBPACK FOOTER //\n// activityList.vue?208b2520","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-0980a2fd\",\"scoped\":true,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"indentedSyntax\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/activityList.vue\n// module id = 264\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"view\"\n  }, [_c('wlb-header', {\n    attrs: {\n      \"options\": {\n        title: '网利活动',\n        rightConfigs: [{\n          type: 'share'\n        }]\n      }\n    }\n  }), _vm._v(\" \"), (_vm.data && _vm.data.length) ? _c('div', {\n    staticClass: \"activities\"\n  }, [_c('loadmore', {\n    ref: \"loadmore\",\n    attrs: {\n      \"cb-load-top\": _vm.loadTop,\n      \"cb-load-bottom\": _vm.loadBottom,\n      \"all-loaded\": _vm.allLoaded\n    }\n  }, [_vm._l((_vm.data), function(item, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"activity-item\",\n      attrs: {\n        \"tag\": \"div\"\n      }\n    }, [(item.url) ? _c('a', {\n      attrs: {\n        \"href\": item.url\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazyload\",\n        rawName: \"v-lazyload\",\n        value: ({\n          placeholder: require('../imgs/banner_defult_sml.png')\n        }),\n        expression: \"{ placeholder: require('../imgs/banner_defult_sml.png') }\"\n      }],\n      attrs: {\n        \"src\": item.cover\n      }\n    })]) : _c('router-link', {\n      attrs: {\n        \"to\": {\n          name: 'activityDetail',\n          params: {\n            id: item.id\n          }\n        }\n      }\n    }, [_c('img', {\n      directives: [{\n        name: \"lazyload\",\n        rawName: \"v-lazyload\",\n        value: ({\n          placeholder: require('../imgs/banner_defult_sml.png')\n        }),\n        expression: \"{ placeholder: require('../imgs/banner_defult_sml.png') }\"\n      }],\n      attrs: {\n        \"src\": item.cover\n      }\n    })])], 1)\n  }), _vm._v(\" \"), _c('no-more', {\n    attrs: {\n      \"visible\": _vm.nomore\n    }\n  })], 2)], 1) : _vm._e()], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-0980a2fd\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0980a2fd\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/activityList.vue\n// module id = 271\n// module chunks = 5"],"sourceRoot":""}